To make testing easier, a base test id will always be generated for you.

### Default Behavior

By default, the test id is just equal to the control's `id`, prepended with its parent's test id if it's part of a group. For example, a control with `id: 'firstName'` inside a group with `testId: 'user-details'` would have a final test id of `'user-details-firstName'`. If the control is at the root level, its test id would simply be `'firstName'`.

### Customizing Test IDs

You can customize how test IDs are generated by providing a `testIdBuilderFn`. This function receives the control's content and its parent's test ID (if any) and should return the desired test ID string.

There are two ways to provide a custom `testIdBuilderFn`:

#### Global Configuration

You can define a global `testIdBuilderFn` when you set up Formwork using `provideFormwork`. This function will be used for all controls unless overridden at the component level.

```ts
provideFormwork({
  // ...
  globalConfig: {
    testIdBuilderFn: (content, parentTestId) => {
      return `${parentTestId ? parentTestId + '_' : ''}${content.type}-${content.id}`;
    },
  },
});
```

#### Control-Specific Configuration

Individual components can also define their own testIdBuilderFn. This is done within the component's logic by calling `setTestIdBuilderFn` on the injected `NgxfwControlDirective`. This allows for fine-grained control over how test IDs are generated for specific components

This example demonstrate how to do this for a [Control](/guides/controls/), but it works exactly the same for [Groups](/guides/groups/) and  [Blocks](/guides/blocks/).

```ts title="text-control.component.ts" group="testid"
@Component({
  // ...
})
export class TextControlComponent {
  private readonly control = inject(NgxfwControlDirective<TextControl>);
  
  constructor() {
      this.control.setTestIdBuilderFn(simpleTestIdBuilder);
  }
}
```


#### Precedence
The test ID generation follows this order of precedence:

1. Control-Specific testIdBuilderFn: If a function is set directly on the control instance.
2. Global testIdBuilderFn: If defined in the provideFormwork configuration.
3. Default Behavior: If no custom builder function is provided.

This system provides flexibility, allowing you to set a general rule for test IDs across your application while still being able to override it for specific cases.
